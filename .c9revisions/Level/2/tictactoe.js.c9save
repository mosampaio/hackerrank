{"ts":1358533353214,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1358533357549,"patch":[[{"diffs":[[1,"process.stdin.resume();\r\nprocess.stdin.setEncoding(\"ascii\");\r\n\r\nprocess.stdin.on(\"data\", function (input) {\r\n    defineAlgorithm(input).move();\r\n});\r\n\r\nfunction isMove(player, input, number) {\r\n\treturn input.split(player).length - 1 == number;\r\n}\r\n\r\nfunction defineAlgorithm(input) {\r\n\treturn 'X' == input.substring(0,1) ? new XAlgorithm(input) : new OAlgorithm(input);\r\n}\r\n\r\nfunction OAlgorithm(input) {\r\n\tthis.input = input;\r\n\t\r\n\tthis.move = function() {\r\n\t\tif (isMove('O', input, 1)) {\r\n\t\t\t\t if (/O\\n_..\\n.X.\\n.../.test(input))    process.stdout.write('0 0');\r\n\t\t\telse \t\t\t\t\t\t\t\t\t\tprocess.stdout.write('1 1');\r\n\t\t} else {\r\n\t\t\t//try to win\r\n\t\t\t//001122\r\n\t\t\t\t if (/O\\n_..\\n.O.\\n..O/.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/O\\nO..\\n._.\\n..O/.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/O\\nO..\\n.O.\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\t//021120\r\n\t\t\telse if (/O\\n.._\\n.O.\\nO../.test(input))    process.stdout.write('0 2');\r\n\t\t\telse if (/O\\n..O\\n._.\\nO../.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/O\\n..O\\n.O.\\n_../.test(input))    process.stdout.write('2 0');\r\n\t\t\t//011121\r\n\t\t\telse if (/O\\n._.\\n.O.\\n.O./.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/O\\n.O.\\n._.\\n.O./.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/O\\n.O.\\n.O.\\n._./.test(input))    process.stdout.write('2 1');\r\n\t\t\t//101112\r\n\t\t\telse if (/O\\n...\\n_OO\\n.../.test(input))    process.stdout.write('1 0');\r\n\t\t\telse if (/O\\n...\\nO_O\\n.../.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/O\\n...\\nOO_\\n.../.test(input))    process.stdout.write('1 2');\r\n\t\t\t//000102\r\n\t\t\telse if (/O\\n_OO\\n...\\n.../.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/O\\nO_O\\n...\\n.../.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/O\\nOO_\\n...\\n.../.test(input))    process.stdout.write('0 2');\r\n\t\t\t//202122\r\n\t\t\telse if (/O\\n...\\n...\\n_OO/.test(input))    process.stdout.write('2 0');\r\n\t\t\telse if (/O\\n...\\n...\\nO_O/.test(input))    process.stdout.write('2 1');\r\n\t\t\telse if (/O\\n...\\n...\\nOO_/.test(input))    process.stdout.write('2 2');\r\n\t\t\t//001020\r\n\t\t\telse if (/O\\n_..\\nO..\\nO../.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/O\\nO..\\n_..\\nO../.test(input))    process.stdout.write('1 0');\r\n\t\t\telse if (/O\\nO..\\nO..\\n_../.test(input))    process.stdout.write('2 0');\r\n\t\t\t//021222\r\n\t\t\telse if (/O\\n.._\\n..O\\n..O/.test(input))    process.stdout.write('0 2');\r\n\t\t\telse if (/O\\n..O\\n.._\\n..O/.test(input))    process.stdout.write('1 2');\r\n\t\t\telse if (/O\\n..O\\n..O\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\t\r\n\t\t\t//avoid lose\r\n\t\t\t//001122\r\n\t\t\telse if (/O\\n_..\\n.X.\\n..X/.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/O\\nX..\\n._.\\n..X/.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/O\\nX..\\n.X.\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\t//021120\r\n\t\t\telse if (/O\\n.._\\n.X.\\nX../.test(input))    process.stdout.write('0 2');\r\n\t\t\telse if (/O\\n..X\\n._.\\nX../.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/O\\n..X\\n.X.\\n_../.test(input))    process.stdout.write('2 0');\r\n\t\t\t//011121\r\n\t\t\telse if (/O\\n._.\\n.X.\\n.X./.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/O\\n.X.\\n._.\\n.X./.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/O\\n.X.\\n.X.\\n._./.test(input))    process.stdout.write('2 1');\r\n\t\t\t//101112\r\n\t\t\telse if (/O\\n...\\n_XX\\n.../.test(input))    process.stdout.write('1 0');\r\n\t\t\telse if (/O\\n...\\nX_X\\n.../.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/O\\n...\\nXX_\\n.../.test(input))    process.stdout.write('1 2');\r\n\t\t\t//000102\r\n\t\t\telse if (/O\\n_XX\\n...\\n.../.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/O\\nX_X\\n...\\n.../.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/O\\nXX_\\n...\\n.../.test(input))    process.stdout.write('0 2');\r\n\t\t\t//202122\r\n\t\t\telse if (/O\\n...\\n...\\n_XX/.test(input))    process.stdout.write('2 0');\r\n\t\t\telse if (/O\\n...\\n...\\nX_X/.test(input))    process.stdout.write('2 1');\r\n\t\t\telse if (/O\\n...\\n...\\nXX_/.test(input))    process.stdout.write('2 2');\r\n\t\t\t//001020\r\n\t\t\telse if (/O\\n_..\\nX..\\nX../.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/O\\nX..\\n_..\\nX../.test(input))    process.stdout.write('1 0');\r\n\t\t\telse if (/O\\nX..\\nX..\\n_../.test(input))    process.stdout.write('2 0');\r\n\t\t\t//021222\r\n\t\t\telse if (/O\\n.._\\n..X\\n..X/.test(input))    process.stdout.write('0 2');\r\n\t\t\telse if (/O\\n..X\\n.._\\n..X/.test(input))    process.stdout.write('1 2');\r\n\t\t\telse if (/O\\n..X\\n..X\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\t\r\n\t\t\t//try to defend the 'X corner' algorithm\r\n\t\t\telse if (/O\\nX__\\n_O_\\n__X/.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/O\\n__X\\n_O_\\nX__/.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/O\\nX__\\n_O_\\n__X/.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/O\\nX__\\n_O_\\n__X/.test(input))    process.stdout.write('0 1');\r\n\t\t\t\r\n\t\t\t//try to mark the opposite corner\r\n\t\t\telse if (/O\\nO..\\n.O.\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\telse if (/O\\n..O\\n.O.\\n_../.test(input))\tprocess.stdout.write('2 0');\r\n\t\t\telse if (/O\\n.._\\n.O.\\nO../.test(input))\tprocess.stdout.write('0 2');\r\n\t\t\telse if (/O\\n_..\\n.O.\\n..O/.test(input))\tprocess.stdout.write('0 0');\r\n\t\t\t\r\n\t\t\telse new RandomAlgorithm(input).move();\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\nfunction XAlgorithm(input) {\r\n\tthis.input = input;\r\n\t\r\n\tthis.move = function() {\r\n\t\tif (isMove('X', input, 1)) {\r\n\t\t\tvar random = Math.floor(Math.random()*5);\r\n\t\t\t\t if (random==4)\tprocess.stdout.write('0 0'); \r\n\t\t\telse if (random==3)\tprocess.stdout.write('0 2');\r\n\t\t\telse if (random==2)\tprocess.stdout.write('2 0');\r\n\t\t\telse if (random==1)\tprocess.stdout.write('2 2');\r\n\t\t\telse \t\t\t\tprocess.stdout.write('1 1'); \r\n\t\t} else if (isMove('X', input, 2)){\r\n\t\t\t// Mark the Opposite Corner when X is Center\r\n\t\t\t\t if (/X\\nO..\\n.X.\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\telse if (/X\\n..O\\n.X.\\n_../.test(input))\tprocess.stdout.write('2 0');\r\n\t\t\telse if (/X\\n.._\\n.X.\\nO../.test(input))\tprocess.stdout.write('0 2');\r\n\t\t\telse if (/X\\n_..\\n.X.\\n..O/.test(input))\tprocess.stdout.write('0 0');\r\n\t\t\t\r\n\t\t\t// Mark the Opposite Corner when O is Center\r\n\t\t\telse if (/X\\nX..\\n.O.\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\telse if (/X\\n..X\\n.O.\\n_../.test(input))\tprocess.stdout.write('2 0');\r\n\t\t\telse if (/X\\n.._\\n.O.\\nX../.test(input))\tprocess.stdout.write('0 2');\r\n\t\t\telse if (/X\\n_..\\n.O.\\n..X/.test(input))\tprocess.stdout.write('0 0');\r\n\t\t\t\r\n\t\t\t// Mark the Center if it's blank\r\n\t\t\telse if (/X\\n...\\n._.\\n.../.test(input))\tprocess.stdout.write('1 1');\r\n\t\t\t\r\n\t\t\t// Mark any Corner\r\n\t\t\telse if (/X\\n_..\\n...\\n.../.test(input))\tprocess.stdout.write('0 0');\r\n\t\t\telse if (/X\\n.._\\n...\\n.../.test(input))\tprocess.stdout.write('0 2');\r\n\t\t\telse if (/X\\n...\\n...\\n_../.test(input))\tprocess.stdout.write('2 0');\r\n\t\t\telse \t\t\t\t\t\t\t\t\t\tprocess.stdout.write('2 2');\r\n\t\t} else {\r\n\t\t\t//try to win\r\n\t\t\t//001122\r\n\t\t\t\t if (/X\\n_..\\n.X.\\n..X/.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/X\\nX..\\n._.\\n..X/.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/X\\nX..\\n.X.\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\t//021120\r\n\t\t\telse if (/X\\n.._\\n.X.\\nX../.test(input))    process.stdout.write('0 2');\r\n\t\t\telse if (/X\\n..X\\n._.\\nX../.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/X\\n..X\\n.X.\\n_../.test(input))    process.stdout.write('2 0');\r\n\t\t\t//011121\r\n\t\t\telse if (/X\\n._.\\n.X.\\n.X./.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/X\\n.X.\\n._.\\n.X./.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/X\\n.X.\\n.X.\\n._./.test(input))    process.stdout.write('2 1');\r\n\t\t\t//101112\r\n\t\t\telse if (/X\\n...\\n_XX\\n.../.test(input))    process.stdout.write('1 0');\r\n\t\t\telse if (/X\\n...\\nX_X\\n.../.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/X\\n...\\nXX_\\n.../.test(input))    process.stdout.write('1 2');\r\n\t\t\t//000102\r\n\t\t\telse if (/X\\n_XX\\n...\\n.../.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/X\\nX_X\\n...\\n.../.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/X\\nXX_\\n...\\n.../.test(input))    process.stdout.write('0 2');\r\n\t\t\t//202122\r\n\t\t\telse if (/X\\n...\\n...\\n_XX/.test(input))    process.stdout.write('2 0');\r\n\t\t\telse if (/X\\n...\\n...\\nX_X/.test(input))    process.stdout.write('2 1');\r\n\t\t\telse if (/X\\n...\\n...\\nXX_/.test(input))    process.stdout.write('2 2');\r\n\t\t\t//001020\r\n\t\t\telse if (/X\\n_..\\nX..\\nX../.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/X\\nX..\\n_..\\nX../.test(input))    process.stdout.write('1 0');\r\n\t\t\telse if (/X\\nX..\\nX..\\n_../.test(input))    process.stdout.write('2 0');\r\n\t\t\t//021222\r\n\t\t\telse if (/X\\n.._\\n..X\\n..X/.test(input))    process.stdout.write('0 2');\r\n\t\t\telse if (/X\\n..X\\n.._\\n..X/.test(input))    process.stdout.write('1 2');\r\n\t\t\telse if (/X\\n..X\\n..X\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\t\r\n\t\t\t//avoid lose\r\n\t\t\t//001122\r\n\t\t\telse if (/X\\n_..\\n.O.\\n..O/.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/X\\nO..\\n._.\\n..O/.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/X\\nO..\\n.O.\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\t//021120\r\n\t\t\telse if (/X\\n.._\\n.O.\\nO../.test(input))    process.stdout.write('0 2');\r\n\t\t\telse if (/X\\n..O\\n._.\\nO../.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/X\\n..O\\n.O.\\n_../.test(input))    process.stdout.write('2 0');\r\n\t\t\t//011121\r\n\t\t\telse if (/X\\n._.\\n.O.\\n.O./.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/X\\n.O.\\n._.\\n.O./.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/X\\n.O.\\n.O.\\n._./.test(input))    process.stdout.write('2 1');\r\n\t\t\t//101112\r\n\t\t\telse if (/X\\n...\\n_OO\\n.../.test(input))    process.stdout.write('1 0');\r\n\t\t\telse if (/X\\n...\\nO_O\\n.../.test(input))    process.stdout.write('1 1');\r\n\t\t\telse if (/X\\n...\\nOO_\\n.../.test(input))    process.stdout.write('1 2');\r\n\t\t\t//000102\r\n\t\t\telse if (/X\\n_OO\\n...\\n.../.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/X\\nO_O\\n...\\n.../.test(input))    process.stdout.write('0 1');\r\n\t\t\telse if (/X\\nOO_\\n...\\n.../.test(input))    process.stdout.write('0 2');\r\n\t\t\t//202122\r\n\t\t\telse if (/X\\n...\\n...\\n_OO/.test(input))    process.stdout.write('2 0');\r\n\t\t\telse if (/X\\n...\\n...\\nO_O/.test(input))    process.stdout.write('2 1');\r\n\t\t\telse if (/X\\n...\\n...\\nOO_/.test(input))    process.stdout.write('2 2');\r\n\t\t\t//001020\r\n\t\t\telse if (/X\\n_..\\nO..\\nO../.test(input))    process.stdout.write('0 0');\r\n\t\t\telse if (/X\\nO..\\n_..\\nO../.test(input))    process.stdout.write('1 0');\r\n\t\t\telse if (/X\\nO..\\nO..\\n_../.test(input))    process.stdout.write('2 0');\r\n\t\t\t//021222\r\n\t\t\telse if (/X\\n.._\\n..O\\n..O/.test(input))    process.stdout.write('0 2');\r\n\t\t\telse if (/X\\n..O\\n.._\\n..O/.test(input))    process.stdout.write('1 2');\r\n\t\t\telse if (/X\\n..O\\n..O\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\t\r\n\t\t\t//try to mark the opposite corner\r\n\t\t\telse if (/X\\nO..\\n.X.\\n.._/.test(input))    process.stdout.write('2 2');\r\n\t\t\telse if (/X\\n..O\\n.X.\\n_../.test(input))\tprocess.stdout.write('2 0');\r\n\t\t\telse if (/X\\n.._\\n.X.\\nO../.test(input))\tprocess.stdout.write('0 2');\r\n\t\t\telse if (/X\\n_..\\n.X.\\n..O/.test(input))\tprocess.stdout.write('0 0');\r\n\t\t\t\r\n\t\t\telse new RandomAlgorithm(input).move();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction RandomAlgorithm(input) {\r\n\tthis.input = input;\r\n\t\r\n\tthis.move = function() {\r\n\t\tvar map = randomBlank(toArray(input));\r\n\t\tprocess.stdout.write(map.i + ' ' + map.j);\r\n\t}\r\n\t\t\r\n\tfunction toArray(input) {\r\n\t\tvar splitted = input.split('\\n');\r\n\t\tvar a = new Array();\r\n\t\tfor (i=0;i<=2;i++) {\r\n\t\t\ta[i] = new Array();\r\n\t\t\tfor (j=0;j<=2;j++) {\r\n\t\t\t\ta[i][j] = splitted[i+1].charAt(j);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\r\n\tfunction randomBlank(array) {\r\n\t\tvar blankArray = [];\r\n\t\tfor (i=0;i<=2;i++) {\r\n\t\t\tfor (j=0;j<=2;j++) {\r\n\t\t\t\tif (array[i][j] == '_') {\r\n\t\t\t\t\tblankArray.push({ i:i, j:j });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar randomNumber = Math.floor(Math.random()*blankArray.length);\r\n\t\treturn blankArray[randomNumber];\r\n\t}\r\n\t\r\n}"]],"start1":0,"start2":0,"length1":0,"length2":11970}]],"length":11970,"saved":false}
{"ts":1358533369043,"patch":[[{"diffs":[[0,", 1)) {\r\n\t\t\t"],[-1,"\t "],[0,"if (/O\\n_..\\"]],"start1":481,"start2":481,"length1":26,"length2":24}]],"length":11968,"saved":false}
{"ts":1358533375683,"patch":[[{"diffs":[[0,"../.test(input))"],[-1,"   "],[0," process.stdout."]],"start1":512,"start2":512,"length1":35,"length2":32},{"diffs":[[0,"\t\t\telse \t\t\t\t\t\t\t\t"],[-1,"\t\t"],[0,"process.stdout.w"]],"start1":559,"start2":559,"length1":34,"length2":32}]],"length":11963,"saved":false}
{"ts":1358533383940,"patch":[[{"diffs":[[0,"(input))"],[1,"        "],[0," process"]],"start1":520,"start2":520,"length1":16,"length2":24},{"diffs":[[0,"\t\t\telse \t\t\t\t\t\t\t\t"],[1,"        "],[0,"process.stdout.w"]],"start1":567,"start2":567,"length1":32,"length2":40}]],"length":11979,"saved":false}
{"ts":1358533409009,"patch":[[{"diffs":[[0,"var a = "],[-1,"new Array();"],[1,"[]"],[0,"\r\n\t\tfor "]],"start1":11508,"start2":11508,"length1":28,"length2":18},{"diffs":[[0,"] = "],[-1,"new Array()"],[1,"[]"],[0,";\r\n\t"]],"start1":11550,"start2":11550,"length1":19,"length2":10}]],"length":11960,"saved":false}
{"ts":1358533411528,"patch":[[{"diffs":[[0,"r a = []"],[1,";"],[0,"\r\n\t\tfor "]],"start1":11510,"start2":11510,"length1":16,"length2":17}]],"length":11961,"saved":false}
{"ts":1358533423345,"patch":[[{"diffs":[[0,") {\r\n\t\t\t"],[1,"\t "],[0,"if (/O\\n"]],"start1":485,"start2":485,"length1":16,"length2":18},{"diffs":[[0,"(input))"],[-1,"     "],[0,"    proc"]],"start1":522,"start2":522,"length1":21,"length2":16},{"diffs":[[0,"\t\t\t\t"],[-1,"        "],[1,"\t\t"],[0,"proc"]],"start1":576,"start2":576,"length1":16,"length2":10},{"diffs":[[0,"var a = "],[-1,"[]"],[1,"new Array()"],[0,";\r\n\t\tfor"]],"start1":11499,"start2":11499,"length1":18,"length2":27},{"diffs":[[0,"\ta[i] = "],[-1,"[]"],[1,"new Array()"],[0,";\r\n\t\t\tfo"]],"start1":11547,"start2":11547,"length1":18,"length2":27}]],"length":11970,"saved":false}
